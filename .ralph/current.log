OpenAI Codex v0.98.0 (research preview)
--------
workdir: /Users/mcbee/Projects/agent-dashboard
model: gpt-5.3-codex
provider: openai
approval: never
sandbox: danger-full-access
reasoning effort: none
reasoning summaries: auto
session id: 019c2f62-2ae2-77e2-b376-59321df1d139
--------
user
You are working on the project: Ralph Dashboard

Goal: A real-time web UI for watching Ralph runs. Kanban-style PRD progress, live metrics, git state, test coverage — watch the magic happen.

Current Item (12/17): Activity log panel
Category: ui
Priority: 2

Description:
Scrolling log of Ralph activity: checkpoints, commits, test runs

Steps:
  1. Create components/ActivityLog.tsx
  2. Parse checkpoints from state.json
  3. Show: timestamp, item completed, files changed
  4. Auto-scroll to latest, with pause on hover
  5. Color coding: green=success, yellow=warning, red=failure
  6. Write unit tests in __tests__/ActivityLog.test.tsx

Verification:
Component renders activity log correctly (unit test)

Please implement this item. After completion:
1. Ensure all tests pass
2. Verify the implementation meets the verification criteria
3. Keep changes focused on this item only

mcp startup: no servers

thinking
**Deciding skill usage for task queue**
codex
Using the `do-work` skill to process the current queued item end-to-end; first I’ll read its `SKILL.md`, then inspect the codebase for the activity log implementation points and tests.
exec
/bin/zsh -lc 'cat /Users/mcbee/.agents/skills/do-work/SKILL.md' in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc 'ls -la' in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc 'rg --files' in /Users/mcbee/Projects/agent-dashboard succeeded in 242ms:
total 680
drwxr-xr-x   25 mcbee  staff     800 Feb  5 14:51 .
drwxr-xr-x    6 mcbee  staff     192 Feb  5 14:01 ..
-rw-r--r--    1 mcbee  staff      61 Feb  5 14:28 .eslintrc.json
drwxr-xr-x   12 mcbee  staff     384 Feb  5 14:57 .git
-rw-r--r--    1 mcbee  staff     400 Feb  5 14:31 .gitignore
drwxr-xr-x   11 mcbee  staff     352 Feb  5 14:32 .next
drwxr-xr-x    4 mcbee  staff     128 Feb  5 14:31 .ralph
-rw-r--r--    1 mcbee  staff    1450 Feb  5 14:28 README.md
drwxr-xr-x   13 mcbee  staff     416 Feb  5 14:57 __tests__
drwxr-xr-x    8 mcbee  staff     256 Feb  5 14:41 app
drwxr-xr-x    7 mcbee  staff     224 Feb  5 14:51 components
-rw-r--r--    1 mcbee  staff     481 Feb  5 14:29 components.json
drwxr-xr-x    3 mcbee  staff      96 Feb  5 14:51 hooks
drwxr-xr-x    8 mcbee  staff     256 Feb  5 14:57 lib
-rw-r--r--    1 mcbee  staff     228 Feb  5 14:28 next-env.d.ts
-rw-r--r--    1 mcbee  staff      92 Feb  5 14:28 next.config.mjs
drwxr-xr-x  400 mcbee  staff   12800 Feb  5 14:51 node_modules
-rw-r--r--    1 mcbee  staff  284688 Feb  5 14:51 package-lock.json
-rw-r--r--    1 mcbee  staff     892 Feb  5 14:51 package.json
 succeeded in 245ms:
---
name: do-work
description: Task queue - add requests or process pending work
argument-hint: run | (task to capture) | verify | cleanup | version
upstream: https://raw.githubusercontent.com/bladnman/do-work/main/SKILL.md
---

# Do-Work Skill

A unified entry point for task capture and processing.

**Actions:**
- **do**: Capture new tasks/requests → creates UR folder (verbatim input) + REQ files (queue items), always paired
- **work**: Process pending requests → executes the queue
- **verify**: Evaluate captured REQs against original input → quality check
- **cleanup**: Consolidate archive → moves loose REQs into UR folders, closes completed URs

> **Core concept:** The do action always produces both a UR folder (preserving the original input) and REQ files (the queue items). Each REQ links back to its UR via `user_request` frontmatter. This pairing is mandatory for all requests — simple or complex.

## Routing Decision
 succeeded in 248ms:
vitest.setup.ts
vitest.config.ts
tsconfig.json
components.json
lib/git-state.ts
lib/code-metrics.ts
lib/utils.ts
lib/coverage-state.ts
lib/coverage-reader.ts
lib/ralph-state.ts
hooks/use-dashboard-state.ts
package.json
package-lock.json
__tests__/KanbanBoard.test.tsx
__tests__/code-metrics.test.ts
__tests__/GitPanel.test.tsx
__tests__/api-state.test.ts
__tests__/git-state.test.ts
__tests__/MetricsPanel.test.tsx
__tests__/ProgressPanel.test.tsx

thinking
**Inspecting state management files**
codex
I’ve located the project structure and test setup; next I’m reading the state model and existing dashboard components to mirror patterns before adding `ActivityLog`.
exec
/bin/zsh -lc "sed -n '1,220p' lib/ralph-state.ts" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' hooks/use-dashboard-state.ts" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' components/LiveDashboard.tsx" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' __tests__/use-dashboard-state.test.tsx" in /Users/mcbee/Projects/agent-dashboard succeeded in 289ms:
"use client";

import { keepPreviousData, useQuery } from "@tanstack/react-query";

import type { CodeMetrics } from "@/lib/code-metrics";
import type { CoverageState } from "@/lib/coverage-state";
import type { GitState } from "@/lib/git-state";
import type { RalphUnifiedView } from "@/lib/ralph-state";

export const DASHBOARD_POLL_INTERVAL_MS = 2000;

export interface DashboardStateResponse {
  projectPath: string;
  timestamp: string;
  ralph: RalphUnifiedView;
  git: GitState;
  metrics: CodeMetrics;
  coverage: CoverageState;
}

 succeeded in 282ms:
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { act, renderHook } from "@testing-library/react";
import React from "react";
import { afterEach, describe, expect, it, vi } from "vitest";

import { DASHBOARD_POLL_INTERVAL_MS, useDashboardState } from "@/hooks/use-dashboard-state";

interface DeferredPromise<T> {
  promise: Promise<T>;
  resolve: (value: T) => void;
  reject: (error: unknown) => void;
}

function createDeferred<T>(): DeferredPromise<T> {
  let resolve!: (value: T) => void;
  let reject!: (error: unknown) => void;
  const promise = new Promise<T>((innerResolve, innerReject) => {
    resolve = innerResolve;
    reject = innerReject;
  });
 succeeded in 290ms:
import { promises as fs } from "node:fs";
import path from "node:path";

export interface Checkpoint {
  item_id: number;
  commit_sha: string;
  timestamp: string;
  files_changed: string[];
  tests_passed: boolean;
  route: string;
}

export interface RalphState {
  branch: string | null;
  prd_path: string | null;
  current_item: number | null;
  completed_items: number[];
  started_at: string | null;
  checkpoints: Checkpoint[];
  agent: string | null;
 succeeded in 285ms:
"use client";

import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import React, { useEffect, useMemo, useState } from "react";

import GitPanel from "@/components/GitPanel";
import KanbanBoard from "@/components/KanbanBoard";
import MetricsPanel from "@/components/MetricsPanel";
import ProgressPanel from "@/components/ProgressPanel";
import { useDashboardState } from "@/hooks/use-dashboard-state";

const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
const MAX_ACTIVITY_ENTRIES = 8;

function formatLastUpdated(isoTimestamp: string | undefined): string {
  if (!isoTimestamp) {
    return "Never";
  }

  const timestamp = new Date(isoTimestamp);

thinking
**Reviewing component test styles**
exec
/bin/zsh -lc "sed -n '1,260p' __tests__/ProgressPanel.test.tsx" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' __tests__/MetricsPanel.test.tsx" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' __tests__/KanbanBoard.test.tsx" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' __tests__/GitPanel.test.tsx" in /Users/mcbee/Projects/agent-dashboard succeeded in 288ms:
import React from "react";
import { cleanup, render, screen } from "@testing-library/react";
import { afterEach, describe, expect, it } from "vitest";

import MetricsPanel from "@/components/MetricsPanel";

afterEach(() => {
  cleanup();
});

describe("MetricsPanel", () => {
  it("renders LOC, delta, file count, test count, and green coverage", () => {
    render(<MetricsPanel totalLoc={12345} startLoc={12000} fileCount={321} testCount={48} coveragePct={92.4} />);

    expect(screen.getByText("12,345")).toBeInTheDocument();
    expect(screen.getByText("+345 from start")).toBeInTheDocument();
    expect(screen.getByText("321")).toBeInTheDocument();
    expect(screen.getByText("48")).toBeInTheDocument();

    const coverage = screen.getByLabelText("Coverage percentage");
 succeeded in 291ms:
import React from "react";
import { cleanup, render, screen } from "@testing-library/react";
import { afterEach, describe, expect, it } from "vitest";

import ProgressPanel from "@/components/ProgressPanel";
import type { UnifiedPRDItem } from "@/lib/ralph-state";

const items: UnifiedPRDItem[] = [
  {
    id: 1,
    category: "setup",
    title: "Done Item A",
    description: "Done A",
    priority: 1,
    passes: true,
    verification: "Done A verification",
    steps: [],
    notes: "",
    status: "done",
    isCurrent: false,
 succeeded in 269ms:
import React from "react";
import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
import { afterEach, describe, expect, it } from "vitest";

import KanbanBoard from "@/components/KanbanBoard";
import type { UnifiedPRDItem } from "@/lib/ralph-state";

const items: UnifiedPRDItem[] = [
  {
    id: 1,
    category: "setup",
    title: "Backlog Item",
    description: "Backlog description",
    priority: 2,
    passes: false,
    verification: "Backlog verification",
    steps: ["Backlog step"],
    notes: "",
    status: "backlog",
    isCurrent: false,
 succeeded in 273ms:
import React from "react";
import { cleanup, fireEvent, render, screen, waitFor } from "@testing-library/react";
import { afterEach, describe, expect, it, vi } from "vitest";

import GitPanel from "@/components/GitPanel";
import type { GitState } from "@/lib/git-state";

const baseGit: Pick<GitState, "branch" | "commitCount" | "recentCommits" | "baseBranch" | "diffFromBase" | "error"> = {
  branch: "feature/git-panel",
  commitCount: 42,
  recentCommits: [
    "feat: add git panel",
    "test: add git panel tests",
    "refactor: tidy panel layout",
    "fix: branch copy state",
    "chore: update styles",
    "docs: note git state panel",
  ],
  baseBranch: "main",
  diffFromBase: {

thinking
**Inspecting API state route**
codex
I confirmed component/test conventions. I’ll now check API/state fixtures and any existing `state.json` samples to ensure checkpoint parsing matches real data shape before coding.
exec
/bin/zsh -lc "sed -n '1,280p' app/api/state/route.ts" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "sed -n '1,260p' __tests__/api-state.test.ts" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "if [ -f .ralph/state.json ]; then sed -n '1,260p' .ralph/state.json; fi" in /Users/mcbee/Projects/agent-dashboardexec
/bin/zsh -lc "find . -name 'state.json' -maxdepth 4" in /Users/mcbee/Projects/agent-dashboard succeeded in 294ms:
import { stat } from "node:fs/promises";
import path from "node:path";

import { NextResponse } from "next/server";

import { readCodeMetrics } from "@/lib/code-metrics";
import { readCoverageState } from "@/lib/coverage-state";
import { readGitState } from "@/lib/git-state";
import { getRalphUnifiedView } from "@/lib/ralph-state";

function resolveProjectPath(request: Request): string | null {
  const { searchParams } = new URL(request.url);

  const fromQuery = searchParams.get("projectPath") ?? searchParams.get("path");
  const fromEnv = process.env.RALPH_PROJECT_PATH;
  const selected = fromQuery ?? fromEnv ?? null;

  if (!selected) {
    return null;
  }
 succeeded in 292ms:
import os from "node:os";
import path from "node:path";
import { promises as fs } from "node:fs";

import { afterEach, describe, expect, it } from "vitest";

import { GET as healthGET } from "../app/api/health/route";
import { GET as stateGET } from "../app/api/state/route";

const createdDirs: string[] = [];
const createdFiles: string[] = [];

async function makeProjectFixture(): Promise<string> {
  const projectDir = await fs.mkdtemp(path.join(os.tmpdir(), "api-state-test-"));
  createdDirs.push(projectDir);

  await fs.mkdir(path.join(projectDir, ".ralph"), { recursive: true });
  await fs.writeFile(
    path.join(projectDir, ".ralph", "state.json"),
    JSON.stringify(
 succeeded in 265ms:
{
  "branch": "ralph/ralph-dashboard-20260205-1427",
  "prd_path": "/Users/mcbee/Projects/agent-dashboard/prd-ralph-dashboard.json",
  "current_item": 12,
  "completed_items": [
    1,
    2,
    3,
    4,
    5,
    7,
    8,
    9,
    10,
    11,
    13,
    14,
    6
  ],
  "started_at": "2026-02-05T14:27:30.511747",
 succeeded in 312ms:
./.ralph/state.json

thinking
**Designing activity log component**
codex
I have enough context and I’m implementing `ActivityLog` as a dedicated component, then wiring `LiveDashboard` to use it and adding focused unit tests for rendering, color coding, and auto-scroll pause behavior.
file update
A /Users/mcbee/Projects/agent-dashboard/components/ActivityLog.tsx
"use client";

import React, { useEffect, useMemo, useRef, useState } from "react";

import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";

type ActivityLevel = "success" | "warning" | "failure";

interface ActivityEntry {
  id: string;
  timestamp: string | null;
  timestampLabel: string;
  itemCompleted: string;
  filesChanged: string[];
  level: ActivityLevel;
}

interface ActivityLogProps {
  state: RalphState | null;
  items: UnifiedPRDItem[];
}

function formatTimestamp(timestamp: string | null): string {
  if (!timestamp) {
    return "Unknown time";
  }

  const parsed = new Date(timestamp);
  if (Number.isNaN(parsed.getTime())) {
    return "Unknown time";
  }

  return parsed.toLocaleString();
}

function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
  if (testsPassed) {
    return "success";
  }

  const normalizedRoute = route.toLowerCase();
  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
    return "failure";
  }

  return "warning";
}

function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
  if (!state) {
    return [];
  }

  const titleById = new Map(items.map((item) => [item.id, item.title]));

  return [...state.checkpoints]
    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
    .map((checkpoint) => {
      const title = titleById.get(checkpoint.item_id);
      return {
        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
        timestamp: checkpoint.timestamp,
        timestampLabel: formatTimestamp(checkpoint.timestamp),
        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
        filesChanged: checkpoint.files_changed,
        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
      };
    });
}

function levelClasses(level: ActivityLevel): string {
  switch (level) {
    case "success":
      return "border-green-500/40 bg-green-500/10";
    case "warning":
      return "border-amber-500/40 bg-amber-500/10";
    case "failure":
      return "border-red-500/40 bg-red-500/10";
  }
}

export default function ActivityLog({ state, items }: ActivityLogProps) {
  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);

  useEffect(() => {
    if (pauseAutoScroll) {
      return;
    }

    const container = scrollContainerRef.current;
    if (!container) {
      return;
    }

    container.scrollTop = container.scrollHeight;
  }, [entries, pauseAutoScroll]);

  return (
    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
      <div className="flex items-center justify-between gap-3">
        <h2 className="text-lg font-semibold">Activity Log</h2>
        <p className="text-xs text-muted-foreground">{entries.length} events</p>
      </div>

      {entries.length === 0 ? (
        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
          No activity yet. Checkpoints will appear as Ralph progresses through items.
        </p>
      ) : (
        <ol
          ref={scrollContainerRef}
          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
          onMouseEnter={() => setPauseAutoScroll(true)}
          onMouseLeave={() => setPauseAutoScroll(false)}
        >
          {entries.map((entry) => (
            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
              <div className="flex flex-wrap items-center justify-between gap-2">
                <p className="text-sm font-medium">{entry.itemCompleted}</p>
                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
                  {entry.timestampLabel}
                </time>
              </div>
              <p className="mt-1 text-xs text-muted-foreground">
                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
              </p>
              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
            </li>
          ))}
        </ol>
      )}
    </section>
  );
}
apply_patch(auto_approved=true) exited 0 in 37ms:
Success. Updated the following files:
A components/ActivityLog.tsx
file update:
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}

file update:
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}


thinking
**Patching LiveDashboard module**
codex
I’m now replacing the inline activity section in `LiveDashboard` with the new component so behavior is centralized and scoped to this item.
file update
M /Users/mcbee/Projects/agent-dashboard/components/LiveDashboard.tsx
@@ -5,2 +5,3 @@
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
@@ -12,3 +13,2 @@
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
@@ -26,16 +26,3 @@
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
@@ -76,5 +63,2 @@
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
@@ -110,33 +94,3 @@
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
apply_patch(auto_approved=true) exited 0 in 34ms:
Success. Updated the following files:
M components/LiveDashboard.tsx
file update:
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }

file update:
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Creating rendering and autoscroll tests**
file update
A /Users/mcbee/Projects/agent-dashboard/__tests__/ActivityLog.test.tsx
import React from "react";
import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
import { afterEach, describe, expect, it } from "vitest";

import ActivityLog from "@/components/ActivityLog";
import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";

const items: UnifiedPRDItem[] = [
  {
    id: 11,
    category: "ui",
    title: "Render board shell",
    description: "Build shell",
    priority: 1,
    passes: true,
    verification: "Renders layout",
    steps: [],
    notes: "",
    status: "done",
    isCurrent: false,
  },
  {
    id: 12,
    category: "ui",
    title: "Activity log panel",
    description: "Build activity log",
    priority: 2,
    passes: false,
    verification: "Component renders activity log correctly",
    steps: [],
    notes: "",
    status: "in_progress",
    isCurrent: true,
  },
  {
    id: 13,
    category: "tests",
    title: "Dashboard tests",
    description: "Add tests",
    priority: 2,
    passes: false,
    verification: "Unit tests pass",
    steps: [],
    notes: "",
    status: "backlog",
    isCurrent: false,
  },
];

function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
  return {
    branch: "main",
    prd_path: "/tmp/prd.json",
    current_item: 12,
    completed_items: [11],
    started_at: "2026-02-05T10:00:00.000Z",
    checkpoints,
    agent: "codex",
    model: "gpt-5",
    auto_push: false,
    pr_url: null,
    base_branch: "main",
    current_action: null,
    action_started_at: null,
    watchdog_timeout: null,
    last_output_at: null,
    watchdog_triggered: false,
  };
}

afterEach(() => {
  cleanup();
});

describe("ActivityLog", () => {
  it("renders timestamp, completed item, and files changed from checkpoints", () => {
    render(
      <ActivityLog
        items={items}
        state={makeState([
          {
            item_id: 12,
            commit_sha: "1111111111111111111111111111111111111111",
            timestamp: "2026-02-05T12:01:00.000Z",
            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
            tests_passed: true,
            route: "",
          },
        ])}
      />,
    );

    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
    expect(screen.getByText("2 files changed")).toBeInTheDocument();
    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();

    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
  });

  it("applies success, warning, and failure color coding", () => {
    render(
      <ActivityLog
        items={items}
        state={makeState([
          {
            item_id: 11,
            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            timestamp: "2026-02-05T12:00:00.000Z",
            files_changed: ["a.ts"],
            tests_passed: true,
            route: "",
          },
          {
            item_id: 12,
            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
            timestamp: "2026-02-05T12:01:00.000Z",
            files_changed: ["b.ts"],
            tests_passed: false,
            route: "",
          },
          {
            item_id: 13,
            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
            timestamp: "2026-02-05T12:02:00.000Z",
            files_changed: ["c.ts"],
            tests_passed: false,
            route: "test-failure",
          },
        ])}
      />,
    );

    const success = screen.getByTestId("activity-entry-success");
    const warning = screen.getByTestId("activity-entry-warning");
    const failure = screen.getByTestId("activity-entry-failure");

    expect(success.className).toContain("border-green-500/40");
    expect(warning.className).toContain("border-amber-500/40");
    expect(failure.className).toContain("border-red-500/40");
  });

  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
    const initialState = makeState([
      {
        item_id: 11,
        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
        timestamp: "2026-02-05T12:00:00.000Z",
        files_changed: ["d.ts"],
        tests_passed: true,
        route: "",
      },
    ]);

    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
    const logList = screen.getByRole("list");

    Object.defineProperty(logList, "scrollHeight", {
      configurable: true,
      value: 500,
    });

    rerender(<ActivityLog items={items} state={initialState} />);
    expect(logList.scrollTop).toBe(500);

    fireEvent.mouseEnter(logList);

    Object.defineProperty(logList, "scrollHeight", {
      configurable: true,
      value: 900,
    });

    rerender(
      <ActivityLog
        items={items}
        state={makeState([
          ...initialState.checkpoints,
          {
            item_id: 12,
            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
            timestamp: "2026-02-05T12:02:00.000Z",
            files_changed: ["e.ts"],
            tests_passed: true,
            route: "",
          },
        ])}
      />,
    );
    expect(logList.scrollTop).toBe(500);

    fireEvent.mouseLeave(logList);
    expect(logList.scrollTop).toBe(900);
  });

  it("shows checkpoints in chronological order", () => {
    render(
      <ActivityLog
        items={items}
        state={makeState([
          {
            item_id: 13,
            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
            timestamp: "2026-02-05T12:03:00.000Z",
            files_changed: ["f.ts"],
            tests_passed: true,
            route: "",
          },
          {
            item_id: 11,
            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
            timestamp: "2026-02-05T12:01:00.000Z",
            files_changed: ["g.ts"],
            tests_passed: true,
            route: "",
          },
        ])}
      />,
    );

    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
  });
});
apply_patch(auto_approved=true) exited 0 in 64ms:
Success. Updated the following files:
A __tests__/ActivityLog.test.tsx
file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..447327936002b5d74ae89250559ebea6e6f1506f
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={initialState} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }

file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..447327936002b5d74ae89250559ebea6e6f1506f
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={initialState} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Planning test execution**
codex
The component and tests are in place; next I’m running the test suite to verify this item and confirm no regressions across existing tests.
exec
/bin/zsh -lc 'cat package.json && npm test -- --run' in /Users/mcbee/Projects/agent-dashboard exited 1 in 1.61s:
{
  "name": "ralph-dashboard",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "test": "vitest run"
  },
  "dependencies": {
    "@tanstack/react-query": "^5.90.20",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.563.0",
    "next": "14.2.35",
    "react": "^18",
    "react-dom": "^18",
    "tailwind-merge": "^3.4.0",
file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..447327936002b5d74ae89250559ebea6e6f1506f
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={initialState} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Adjusting test to trigger effect rerun**
codex
One test failed due effect timing with unchanged dependencies; I’m tightening that test to force a real dependency change so auto-scroll behavior is asserted reliably in jsdom.
file update
M /Users/mcbee/Projects/agent-dashboard/__tests__/ActivityLog.test.tsx
@@ -162,3 +162,3 @@
 
-    rerender(<ActivityLog items={items} state={initialState} />);
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
     expect(logList.scrollTop).toBe(500);
apply_patch(auto_approved=true) exited 0 in 62ms:
Success. Updated the following files:
M __tests__/ActivityLog.test.tsx
file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..7697608b3f86e8408c2a49b5cbf6eb5d3c832f29
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }

file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..7697608b3f86e8408c2a49b5cbf6eb5d3c832f29
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Rerunning tests**
codex
I’ve updated the failing test path and am rerunning the suite to confirm everything is green.
exec
/bin/zsh -lc 'npm test -- --run' in /Users/mcbee/Projects/agent-dashboard succeeded in 1.57s:

> ralph-dashboard@0.1.0 test
> vitest run --run


 RUN  v4.0.18 /Users/mcbee/Projects/agent-dashboard

 ✓ __tests__/coverage-reader.test.ts (7 tests) 19ms
 ✓ __tests__/ralph-state.test.ts (9 tests) 42ms
 ✓ __tests__/MetricsPanel.test.tsx (3 tests) 53ms
 ✓ __tests__/api-state.test.ts (6 tests) 72ms
 ✓ __tests__/use-dashboard-state.test.tsx (2 tests) 43ms
 ✓ __tests__/ProgressPanel.test.tsx (2 tests) 134ms
 ✓ __tests__/ActivityLog.test.tsx (4 tests) 148ms
 ✓ __tests__/KanbanBoard.test.tsx (3 tests) 179ms
 ✓ __tests__/GitPanel.test.tsx (2 tests) 137ms
 ✓ __tests__/code-metrics.test.ts (3 tests) 9ms
 ✓ __tests__/git-state.test.ts (5 tests) 2ms
 ✓ __tests__/example.test.ts (1 test) 8ms

file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..7697608b3f86e8408c2a49b5cbf6eb5d3c832f29
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Verifying component rendering test**
codex
All tests pass now. I’m doing a quick diff review to confirm the change scope is limited to the Activity Log item before I summarize what was implemented.
exec
/bin/zsh -lc 'git status --short && git diff -- components/LiveDashboard.tsx components/ActivityLog.tsx __tests__/ActivityLog.test.tsx' in /Users/mcbee/Projects/agent-dashboard succeeded in 229ms:
 M .ralph/current.log
 M .ralph/state.json
 M components/LiveDashboard.tsx
 M prd-ralph-dashboard.json
?? __tests__/ActivityLog.test.tsx
?? components/ActivityLog.tsx
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de4746..77bdd33 100644
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@ import ProgressPanel from "@/components/ProgressPanel";
 import { useDashboardState } from "@/hooks/use-dashboard-state";
file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..7697608b3f86e8408c2a49b5cbf6eb5d3c832f29
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }


thinking
**Preparing concise final summary**
codex
Implemented item 12/17: **Activity log panel**.

### What changed
- Added `components/ActivityLog.tsx`:
  - Parses checkpoint data from `state.checkpoints` (from `.ralph/state.json` via existing state pipeline).
  - Renders each event with:
    - timestamp (`<time dateTime=...>`)
    - item completed (`Item #N completed: <title>`)
    - files changed count + file list
  - Auto-scrolls to latest entry.
  - Pauses auto-scroll on hover; resumes on mouse leave.
  - Color coding:
    - success: green (`tests_passed: true`)
    - warning: yellow (`tests_passed: false` without failure route signal)
    - failure: red (`route` contains `fail`/`error`/`abort`)

- Updated `components/LiveDashboard.tsx`:
  - Replaced inline activity log section with `<ActivityLog state={data.ralph.state} items={data.ralph.items} />`.

- Added `__tests__/ActivityLog.test.tsx`:
  - Verifies rendering of timestamp, completed item, and files changed.
  - Verifies success/warning/failure color coding.
  - Verifies auto-scroll and hover pause behavior.
  - Verifies chronological ordering.

### Verification
- Ran full test suite: `npm test -- --run`
- Result: **12 files passed, 47 tests passed, 0 failed**

This meets the verification criterion: component renders activity log correctly via unit tests.
file update:
diff --git a/__tests__/ActivityLog.test.tsx b/__tests__/ActivityLog.test.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..7697608b3f86e8408c2a49b5cbf6eb5d3c832f29
--- /dev/null
+++ b/__tests__/ActivityLog.test.tsx
@@ -0,0 +1,224 @@
+import React from "react";
+import { cleanup, fireEvent, render, screen, within } from "@testing-library/react";
+import { afterEach, describe, expect, it } from "vitest";
+
+import ActivityLog from "@/components/ActivityLog";
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+const items: UnifiedPRDItem[] = [
+  {
+    id: 11,
+    category: "ui",
+    title: "Render board shell",
+    description: "Build shell",
+    priority: 1,
+    passes: true,
+    verification: "Renders layout",
+    steps: [],
+    notes: "",
+    status: "done",
+    isCurrent: false,
+  },
+  {
+    id: 12,
+    category: "ui",
+    title: "Activity log panel",
+    description: "Build activity log",
+    priority: 2,
+    passes: false,
+    verification: "Component renders activity log correctly",
+    steps: [],
+    notes: "",
+    status: "in_progress",
+    isCurrent: true,
+  },
+  {
+    id: 13,
+    category: "tests",
+    title: "Dashboard tests",
+    description: "Add tests",
+    priority: 2,
+    passes: false,
+    verification: "Unit tests pass",
+    steps: [],
+    notes: "",
+    status: "backlog",
+    isCurrent: false,
+  },
+];
+
+function makeState(checkpoints: RalphState["checkpoints"]): RalphState {
+  return {
+    branch: "main",
+    prd_path: "/tmp/prd.json",
+    current_item: 12,
+    completed_items: [11],
+    started_at: "2026-02-05T10:00:00.000Z",
+    checkpoints,
+    agent: "codex",
+    model: "gpt-5",
+    auto_push: false,
+    pr_url: null,
+    base_branch: "main",
+    current_action: null,
+    action_started_at: null,
+    watchdog_timeout: null,
+    last_output_at: null,
+    watchdog_triggered: false,
+  };
+}
+
+afterEach(() => {
+  cleanup();
+});
+
+describe("ActivityLog", () => {
+  it("renders timestamp, completed item, and files changed from checkpoints", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 12,
+            commit_sha: "1111111111111111111111111111111111111111",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["components/ActivityLog.tsx", "__tests__/ActivityLog.test.tsx"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    expect(screen.getByText("Item #12 completed: Activity log panel")).toBeInTheDocument();
+    expect(screen.getByText("2 files changed")).toBeInTheDocument();
+    expect(screen.getByText("components/ActivityLog.tsx, __tests__/ActivityLog.test.tsx")).toBeInTheDocument();
+
+    const timestamp = screen.getByText((content, element) => element?.tagName === "TIME" && content.length > 0);
+    expect(timestamp).toHaveAttribute("dateTime", "2026-02-05T12:01:00.000Z");
+  });
+
+  it("applies success, warning, and failure color coding", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 11,
+            commit_sha: "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
+            timestamp: "2026-02-05T12:00:00.000Z",
+            files_changed: ["a.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 12,
+            commit_sha: "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["b.ts"],
+            tests_passed: false,
+            route: "",
+          },
+          {
+            item_id: 13,
+            commit_sha: "cccccccccccccccccccccccccccccccccccccccc",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["c.ts"],
+            tests_passed: false,
+            route: "test-failure",
+          },
+        ])}
+      />,
+    );
+
+    const success = screen.getByTestId("activity-entry-success");
+    const warning = screen.getByTestId("activity-entry-warning");
+    const failure = screen.getByTestId("activity-entry-failure");
+
+    expect(success.className).toContain("border-green-500/40");
+    expect(warning.className).toContain("border-amber-500/40");
+    expect(failure.className).toContain("border-red-500/40");
+  });
+
+  it("auto-scrolls to latest checkpoint and pauses while hovered", () => {
+    const initialState = makeState([
+      {
+        item_id: 11,
+        commit_sha: "dddddddddddddddddddddddddddddddddddddddd",
+        timestamp: "2026-02-05T12:00:00.000Z",
+        files_changed: ["d.ts"],
+        tests_passed: true,
+        route: "",
+      },
+    ]);
+
+    const { rerender } = render(<ActivityLog items={items} state={initialState} />);
+    const logList = screen.getByRole("list");
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 500,
+    });
+
+    rerender(<ActivityLog items={items} state={makeState([...initialState.checkpoints])} />);
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseEnter(logList);
+
+    Object.defineProperty(logList, "scrollHeight", {
+      configurable: true,
+      value: 900,
+    });
+
+    rerender(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          ...initialState.checkpoints,
+          {
+            item_id: 12,
+            commit_sha: "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
+            timestamp: "2026-02-05T12:02:00.000Z",
+            files_changed: ["e.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+    expect(logList.scrollTop).toBe(500);
+
+    fireEvent.mouseLeave(logList);
+    expect(logList.scrollTop).toBe(900);
+  });
+
+  it("shows checkpoints in chronological order", () => {
+    render(
+      <ActivityLog
+        items={items}
+        state={makeState([
+          {
+            item_id: 13,
+            commit_sha: "ffffffffffffffffffffffffffffffffffffffff",
+            timestamp: "2026-02-05T12:03:00.000Z",
+            files_changed: ["f.ts"],
+            tests_passed: true,
+            route: "",
+          },
+          {
+            item_id: 11,
+            commit_sha: "gggggggggggggggggggggggggggggggggggggggg",
+            timestamp: "2026-02-05T12:01:00.000Z",
+            files_changed: ["g.ts"],
+            tests_passed: true,
+            route: "",
+          },
+        ])}
+      />,
+    );
+
+    const listItems = within(screen.getByRole("list")).getAllByRole("listitem");
+    expect(within(listItems[0]).getByText("Item #11 completed: Render board shell")).toBeInTheDocument();
+    expect(within(listItems[1]).getByText("Item #13 completed: Dashboard tests")).toBeInTheDocument();
+  });
+});
diff --git a/components/ActivityLog.tsx b/components/ActivityLog.tsx
new file mode 100644
index 0000000000000000000000000000000000000000..b6f670fece6e97d8b38b0f48a5ca0ef3aebf2aa5
--- /dev/null
+++ b/components/ActivityLog.tsx
@@ -0,0 +1,136 @@
+"use client";
+
+import React, { useEffect, useMemo, useRef, useState } from "react";
+
+import type { RalphState, UnifiedPRDItem } from "@/lib/ralph-state";
+
+type ActivityLevel = "success" | "warning" | "failure";
+
+interface ActivityEntry {
+  id: string;
+  timestamp: string | null;
+  timestampLabel: string;
+  itemCompleted: string;
+  filesChanged: string[];
+  level: ActivityLevel;
+}
+
+interface ActivityLogProps {
+  state: RalphState | null;
+  items: UnifiedPRDItem[];
+}
+
+function formatTimestamp(timestamp: string | null): string {
+  if (!timestamp) {
+    return "Unknown time";
+  }
+
+  const parsed = new Date(timestamp);
+  if (Number.isNaN(parsed.getTime())) {
+    return "Unknown time";
+  }
+
+  return parsed.toLocaleString();
+}
+
+function getActivityLevel(testsPassed: boolean, route: string): ActivityLevel {
+  if (testsPassed) {
+    return "success";
+  }
+
+  const normalizedRoute = route.toLowerCase();
+  if (normalizedRoute.includes("fail") || normalizedRoute.includes("error") || normalizedRoute.includes("abort")) {
+    return "failure";
+  }
+
+  return "warning";
+}
+
+function parseActivityEntries(state: RalphState | null, items: UnifiedPRDItem[]): ActivityEntry[] {
+  if (!state) {
+    return [];
+  }
+
+  const titleById = new Map(items.map((item) => [item.id, item.title]));
+
+  return [...state.checkpoints]
+    .sort((left, right) => new Date(left.timestamp).getTime() - new Date(right.timestamp).getTime())
+    .map((checkpoint) => {
+      const title = titleById.get(checkpoint.item_id);
+      return {
+        id: `${checkpoint.commit_sha}-${checkpoint.timestamp}`,
+        timestamp: checkpoint.timestamp,
+        timestampLabel: formatTimestamp(checkpoint.timestamp),
+        itemCompleted: title ? `Item #${checkpoint.item_id} completed: ${title}` : `Item #${checkpoint.item_id} completed`,
+        filesChanged: checkpoint.files_changed,
+        level: getActivityLevel(checkpoint.tests_passed, checkpoint.route),
+      };
+    });
+}
+
+function levelClasses(level: ActivityLevel): string {
+  switch (level) {
+    case "success":
+      return "border-green-500/40 bg-green-500/10";
+    case "warning":
+      return "border-amber-500/40 bg-amber-500/10";
+    case "failure":
+      return "border-red-500/40 bg-red-500/10";
+  }
+}
+
+export default function ActivityLog({ state, items }: ActivityLogProps) {
+  const [pauseAutoScroll, setPauseAutoScroll] = useState(false);
+  const scrollContainerRef = useRef<HTMLOListElement | null>(null);
+  const entries = useMemo(() => parseActivityEntries(state, items), [state, items]);
+
+  useEffect(() => {
+    if (pauseAutoScroll) {
+      return;
+    }
+
+    const container = scrollContainerRef.current;
+    if (!container) {
+      return;
+    }
+
+    container.scrollTop = container.scrollHeight;
+  }, [entries, pauseAutoScroll]);
+
+  return (
+    <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
+      <div className="flex items-center justify-between gap-3">
+        <h2 className="text-lg font-semibold">Activity Log</h2>
+        <p className="text-xs text-muted-foreground">{entries.length} events</p>
+      </div>
+
+      {entries.length === 0 ? (
+        <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
+          No activity yet. Checkpoints will appear as Ralph progresses through items.
+        </p>
+      ) : (
+        <ol
+          ref={scrollContainerRef}
+          className="mt-4 max-h-72 space-y-2 overflow-y-auto pr-1"
+          onMouseEnter={() => setPauseAutoScroll(true)}
+          onMouseLeave={() => setPauseAutoScroll(false)}
+        >
+          {entries.map((entry) => (
+            <li key={entry.id} className={`rounded-md border p-3 ${levelClasses(entry.level)}`} data-testid={`activity-entry-${entry.level}`}>
+              <div className="flex flex-wrap items-center justify-between gap-2">
+                <p className="text-sm font-medium">{entry.itemCompleted}</p>
+                <time className="text-xs text-muted-foreground" dateTime={entry.timestamp ?? undefined}>
+                  {entry.timestampLabel}
+                </time>
+              </div>
+              <p className="mt-1 text-xs text-muted-foreground">
+                {entry.filesChanged.length} file{entry.filesChanged.length === 1 ? "" : "s"} changed
+              </p>
+              <p className="mt-1 truncate font-mono text-xs text-muted-foreground">{entry.filesChanged.join(", ") || "No file changes recorded"}</p>
+            </li>
+          ))}
+        </ol>
+      )}
+    </section>
+  );
+}
diff --git a/components/LiveDashboard.tsx b/components/LiveDashboard.tsx
index 3de474610dd786061183936c22043744fcbb4167..77bdd334cc2dc47f4f2955d848ec0a8cdc8c6ce1
--- a/components/LiveDashboard.tsx
+++ b/components/LiveDashboard.tsx
@@ -3,6 +3,7 @@
 import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import React, { useEffect, useMemo, useState } from "react";
 
+import ActivityLog from "@/components/ActivityLog";
 import GitPanel from "@/components/GitPanel";
 import KanbanBoard from "@/components/KanbanBoard";
 import MetricsPanel from "@/components/MetricsPanel";
@@ -10,7 +11,6 @@
 import { useDashboardState } from "@/hooks/use-dashboard-state";
 
 const DEFAULT_ERROR_MESSAGE = "Unable to load dashboard state.";
-const MAX_ACTIVITY_ENTRIES = 8;
 
 function formatLastUpdated(isoTimestamp: string | undefined): string {
   if (!isoTimestamp) {
@@ -24,20 +24,7 @@
 
   return timestamp.toLocaleTimeString();
 }
-
-function formatActivityTimestamp(isoTimestamp: string | null | undefined): string {
-  if (!isoTimestamp) {
-    return "Unknown time";
-  }
 
-  const timestamp = new Date(isoTimestamp);
-  if (Number.isNaN(timestamp.getTime())) {
-    return "Unknown time";
-  }
-
-  return timestamp.toLocaleString();
-}
-
 function DashboardBody() {
   const { data, error, isPending, isFetching, dataUpdatedAt } = useDashboardState();
   const [showUpdated, setShowUpdated] = useState(false);
@@ -74,9 +61,6 @@
 
   const coveragePct = data.coverage.total?.lines.pct ?? null;
   const startedAt = data.ralph.state?.started_at ?? null;
-  const activityItems = [...(data.ralph.state?.checkpoints ?? [])]
-    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())
-    .slice(0, MAX_ACTIVITY_ENTRIES);
 
   return (
     <div className="space-y-6">
@@ -108,37 +92,7 @@
         </aside>
       </section>
 
-      <section className="rounded-lg border border-border bg-card p-4 text-card-foreground md:p-6">
-        <div className="flex items-center justify-between gap-3">
-          <h2 className="text-lg font-semibold">Activity Log</h2>
-          <p className="text-xs text-muted-foreground">{activityItems.length} recent events</p>
-        </div>
-
-        {activityItems.length === 0 ? (
-          <p className="mt-3 rounded-md border border-dashed border-border p-3 text-sm text-muted-foreground">
-            No activity yet. Checkpoints will appear as Ralph progresses through items.
-          </p>
-        ) : (
-          <ol className="mt-4 space-y-2">
-            {activityItems.map((checkpoint) => (
-              <li key={`${checkpoint.commit_sha}-${checkpoint.timestamp}`} className="rounded-md border border-border bg-background/50 p-3">
-                <div className="flex flex-wrap items-center justify-between gap-2">
-                  <p className="text-sm font-medium">Item #{checkpoint.item_id}</p>
-                  <p className="text-xs text-muted-foreground">{formatActivityTimestamp(checkpoint.timestamp)}</p>
-                </div>
-                <p className="mt-1 text-xs text-muted-foreground">
-                  Commit <span className="font-mono text-foreground">{checkpoint.commit_sha.slice(0, 8)}</span>
-                  {" · "}
-                  {checkpoint.tests_passed ? "tests passed" : "tests pending/failed"}
-                  {" · "}
-                  {checkpoint.files_changed.length} files changed
-                </p>
-                {checkpoint.route ? <p className="mt-1 text-xs text-muted-foreground">Route: {checkpoint.route}</p> : null}
-              </li>
-            ))}
-          </ol>
-        )}
-      </section>
+      <ActivityLog state={data.ralph.state} items={data.ralph.items} />
     </div>
   );
 }

tokens used
34,923
Implemented item 12/17: **Activity log panel**.

### What changed
- Added `components/ActivityLog.tsx`:
  - Parses checkpoint data from `state.checkpoints` (from `.ralph/state.json` via existing state pipeline).
  - Renders each event with:
    - timestamp (`<time dateTime=...>`)
    - item completed (`Item #N completed: <title>`)
    - files changed count + file list
  - Auto-scrolls to latest entry.
  - Pauses auto-scroll on hover; resumes on mouse leave.
  - Color coding:
    - success: green (`tests_passed: true`)
    - warning: yellow (`tests_passed: false` without failure route signal)
    - failure: red (`route` contains `fail`/`error`/`abort`)

- Updated `components/LiveDashboard.tsx`:
  - Replaced inline activity log section with `<ActivityLog state={data.ralph.state} items={data.ralph.items} />`.

- Added `__tests__/ActivityLog.test.tsx`:
  - Verifies rendering of timestamp, completed item, and files changed.
  - Verifies success/warning/failure color coding.
  - Verifies auto-scroll and hover pause behavior.
  - Verifies chronological ordering.

### Verification
- Ran full test suite: `npm test -- --run`
- Result: **12 files passed, 47 tests passed, 0 failed**

This meets the verification criterion: component renders activity log correctly via unit tests.
